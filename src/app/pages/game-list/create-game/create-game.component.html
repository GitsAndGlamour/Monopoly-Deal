<mat-toolbar color="primary">Create New Game</mat-toolbar>
<form *ngIf="form" [formGroup]="form">
    <mat-list>
        <mat-list-item>
<!--            Game Name -->
            <mat-form-field class="full-width">
                <input matInput placeholder="Game Name" formControlName="name">
            </mat-form-field>
        </mat-list-item>
        <mat-list-item>
            <div class="flex-row flex-space-between full-width">
<!--                Seat Count -->
                <mat-form-field class="flex-row-item flex-1"
                                hintLabel="Must have at least one seat and more seats than you have bots.">
                    <input type="number"
                            min="2"
                            max="4"
                            matInput
                            placeholder="Seats"
                            formControlName="seats">
                </mat-form-field>
<!--                Bot Count -->
                <mat-form-field class="flex-row-item flex-1"
                                hintLabel="Must have less bots than you have seats.">
                    <input type="number"
                            [min]="0"
                            [max]="form.get('seats').value - 1"
                            matInput
                            placeholder="Bots"
                            formControlName="bots">
                </mat-form-field>
            </div>
        </mat-list-item>
        <br>
        <mat-list-item>
            <div class="flex-row flex-space-between full-width">
                <mat-checkbox
                        class="flex-row-item flex-1"
                        color="warn"
                        formControlName="ranked">
                    <b>Ranked</b> match
                </mat-checkbox>
                <mat-slide-toggle
                        class="flex-row-item flex-1"
                        color="warn"
                        formControlName="public">
                    Anyone can <b>join</b>
                </mat-slide-toggle>
            </div>
        </mat-list-item>
        <mat-list-item>
            <div class="flex-row flex-space-between full-width">
                <mat-checkbox
                        class="flex-row-item flex-1"
                        color="warn"
                        formControlName="friends">
                    <b>Friends</b> only
                </mat-checkbox>
                <mat-slide-toggle
                        class="flex-row-item flex-1"
                        color="warn"
                        formControlName="viewable">
                    Anyone can <b>watch</b>
                </mat-slide-toggle>
            </div>
        </mat-list-item>
        <mat-list-item id="invites">
            <mat-form-field class="full-width">
                <mat-chip-list #chipList aria-label="Invite friends">
                    <mat-chip
                            *ngFor="let friend of friends"
                            [selectable]="true"
                            [removable]="true"
                            (removed)="remove(friend)">
                        {{friend.displayName}} ({{friend.username}})
                        <mat-icon matChipRemove>cancel</mat-icon>
                    </mat-chip>
                    <br>
                    <input
                            placeholder="Invite friends..."
                            #friendInput
                            formControlName="invites"
                            [matAutocomplete]="auto"
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="true">
                </mat-chip-list>
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event.option.value)">
                    <mat-option *ngFor="let friend of filteredFriends | async" [value]="friend">
                        {{friend.displayName}} ({{friend.username}})
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
        </mat-list-item>
    </mat-list>
    <br>
    <div class="flex-row flex-end">
        <button mat-button>Clear</button>
        <button mat-raised-button color="red" (click)="submit($event)">Play!</button>
    </div>
</form>
